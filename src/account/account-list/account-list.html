<!-- 
	account-list.html
	Purpose: Lists all the accounts currently in the system
-->


<div class="page-header">
	<h2>My Accounts</h2>
</div>
<div class="row">
	<div class="col-xs-8"> 
		<div class="panel panel-default">
	  		<div class="panel-heading">
	    		<h3 class="panel-title">
	    			Accounts
	    			<button class="btn btn-primary btn-xs pull-right" ng-click="addAccount()">
	    				<i class="glyphicon glyphicon-plus"></i> Add Account
	    			</button>
	    		</h3>
	  		</div>
	  		<div class="panel-body">
	    		<table class="table table-striped">
					<thead>
						<tr>
							<th>Name</th>
							<th width="100">APR</th>
							<th class="nowrap">Current Balance</th>
							<th class="nowrap">Monthly Payment</th>
						</tr>
					</thead>
					<tbody>

						<!-- Iterate through the accounts in the system and display their information -->
						<tr ng-repeat="account in accounts" ng-init="editing=!account.name.length">
							<form novalidate class="css-form">
								<td class="nowrap">
									<!-- Account label -->
									<span ng-show="!editing">{{ account.name }}</span>
									<!-- Account edit control -->
									<div class="input-group input-group-sm" ng-show="editing">
										<input type="text" class="form-control account-input" class="account-input" 
											ng-model="account.name" placeholder="Account Name" required>
									</div>
								</td>
								<td>
									<!-- APR label -->
									<span ng-show="!editing">{{ account.APR }}%</span>
									<!-- APR Control -->
									<div class="input-group input-group-sm" ng-show="editing">
										<input type="text" class="form-control" ng-model="account.APR" 
											placeholder="APR" aria-describedby="basic-addon0">
										<span class="input-group-addon" id="basic-addon0">%</span>
									</div>
								</td>
								<td class="snug">
									<!-- Balance label -->
									<span ng-show="!editing">{{ account.balance | currency }}</span>
									<!-- Balance control -->
									<div class="input-group input-group-sm" ng-show="editing">
										<span class="input-group-addon" id="basic-addon1">$</span>
										<input type="text" class="form-control" ng-model="account.balance" placeholder="Balance" aria-describedby="basic-addon1">
									</div>
								</td>
								<td class="snug">
									<!-- Payment label -->
									<span ng-show="!editing">{{ account.payment | currency }}</span>
									<!-- Payment control -->
									<div class="input-group input-group-sm" ng-show="editing">
										<span class="input-group-addon" id="basic-addon2">$</span>
										<input type="text" class="form-control" ng-model="account.payment" placeholder="Min. Payment" aria-describedby="basic-addon2"/>
									</div>
								</td>

								<td class="snug account-actions">
									<!-- Edit -->
									<i class="glyphicon glyphicon-pencil" data-toggle="tooltip" data-placement="top" 
										title="Edit this account" ng-click="editing=true" ng-show="!editing"></i>
									<!-- Save -->
									<i class="glyphicon glyphicon-ok-sign" ng-click="editing=false" 
										title="Save this account" ng-show="editing"></i>
									<!-- Delete -->
									<i class="glyphicon glyphicon-trash" ng-click="deleteAccount( account )" 
										title="Delete this account"></i>
								</td>
							</form>

						
						<tr> 

					</tbody>
				</table>
	  		</div>
		</div>
	</div>
	<div class="col-xs-4" ng-include="'account/account-list/account-summary.html'"></div>
</div>
